
-----

# ðŸŽ¤ VoiceBreaker ðŸ”“

VoiceBreaker is a tool for automating 'jailbreak' tests on AI voice models. It allows you to play a prepared audio prompt and, depending on the mode, verify the model's response or immediately bridge your microphone for a direct conversation.

## How It Works

The process is simple and automated:

1.  **Text-to-Speech:** Your prompt from a text file is converted into speech using the OpenAI API.
2.  **Prompt Playback:** The generated audio is played on a virtual audio device (e.g., `CABLE Input`), which your target AI model should be listening to.
3.  **Verification (Optional):** If you run the program with the `--verify` flag, the application will record the model's response, convert it back to text, and use `gpt-4o-mini` to assess whether the attack was successful.
4.  **Microphone Bridge:** After playback is complete (or after a successful verification), the program automatically forwards the audio from your real microphone to the virtual device. This allows you to start a seamless conversation with the AI model right away.

## Requirements

  - Python 3.9+
  - [VB-CABLE Virtual Audio Device](https://vb-audio.com/Cable/) (or another virtual audio cable)
  - An OpenAI API Key

## Installation and Configuration

1.  **Clone the repository and install dependencies:**

    ```bash
    git clone https://github.com/dam2452/voicebreaker.git
    cd voicebreaker
    pip install -r requirements.txt
    ```

2.  **Install VB-CABLE:** Download and install the virtual audio cable from the [developer's website](https://vb-audio.com/Cable/).

3.  **Create the `.env` file:** In the root directory of the project, create a file named `.env`.

    **The only required variable is `OPENAI_API_KEY`**.

    ```env
    # .env file
    OPENAI_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
    ```

4.  **Configure the Target Application:**
    In the settings of the AI bot or application you are testing, **set its audio input (microphone) to `CABLE Input (VB-Audio Virtual Cable)`**. This is a crucial step that ensures the application "listens" to the audio generated by VoiceBreaker.

### Optional Variables

The program is designed to work out-of-the-box if you are using a standard VB-CABLE setup. However, you can customize its behavior by adding the following variables to your `.env` file:

  - `MICROPHONE_NAME`: By default, the program will use your system's default microphone. If you want to use a different one, provide its exact name, e.g., `MICROPHONE_NAME="Microphone (Logitech USB Headset)"`.
  - `VIRTUAL_OUTPUT_NAME`: The name of the virtual cable's "speaker". Default: `CABLE Input (VB-Audio Virtual Cable)`.
  - `VIRTUAL_INPUT_NAME`: The name of the virtual cable's "microphone". Default: `CABLE Output (VB-Audio Virtual Cable)`.
  - `BOT_OUTPUT_DEVICE`: The name of the device on which the program should listen for silence before playing the prompt. This is usually the same as `VIRTUAL_OUTPUT_NAME`.

## Usage

Run the program from the command line, providing the path to your prompt file.

#### Default Mode (Fast, No Verification)

Plays the prompt and immediately forwards your microphone.

```bash
python -m main --prompt-file path/to/prompt.txt
```

#### Verification Mode

Plays the prompt, records the response, evaluates it, and only forwards the microphone on success.

```bash
python -m main --prompt-file path/to/prompt.txt --verify
```

> **WARNING:** The `--verify` option is currently in **BETA** and may not work stably. Its use is not recommended for production environments.